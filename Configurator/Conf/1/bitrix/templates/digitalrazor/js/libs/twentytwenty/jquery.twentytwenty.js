(function(a){a.fn.twentytwenty=function(b){var b=a.extend({default_offset_pct:0.5,orientation:"horizontal"},b);return this.each(function(){var j=b.default_offset_pct;var g=a(this);var c=b.orientation;var d=(c==="vertical")?"down":"left";var e=(c==="vertical")?"up":"right";g.wrap("<div class='twentytwenty-wrapper twentytwenty-"+c+"'></div>");g.append("<div class='twentytwenty-overlay'></div>");var f=g.find("img:first");var o=g.find("img:last");g.append("<div class='twentytwenty-handle'></div>");var h=g.find(".twentytwenty-handle");h.append("<span class='twentytwenty-"+d+"-arrow'></span>");h.append("<span class='twentytwenty-"+e+"-arrow'></span>");g.addClass("twentytwenty-container");f.addClass("twentytwenty-before");o.addClass("twentytwenty-after");var l=g.find(".twentytwenty-overlay");l.append("<div class='twentytwenty-before-label'></div>");l.append("<div class='twentytwenty-after-label'></div>");var k=function(r){var q=f.width();var s=f.height();return{w:q+"px",h:s+"px",cw:(r*q)+"px",ch:(r*s)+"px"}};var i=function(q){if(c==="vertical"){f.css("clip","rect(0,"+q.w+","+q.ch+",0)")}else{f.css("clip","rect(0,"+q.cw+","+q.h+",0)")}g.css("height",q.h)};var n=function(q){var r=k(q);h.css((c==="vertical")?"top":"left",(c==="vertical")?r.ch:r.cw);i(r)};a(window).on("resize.twentytwenty",function(q){n(j)});var m=0;var p=0;h.on("movestart",function(q){if(((q.distX>q.distY&&q.distX<-q.distY)||(q.distX<q.distY&&q.distX>-q.distY))&&c!=="vertical"){q.preventDefault()}else{if(((q.distX<q.distY&&q.distX<-q.distY)||(q.distX>q.distY&&q.distX>-q.distY))&&c==="vertical"){q.preventDefault()}}g.addClass("active");m=g.offset().left;offsetY=g.offset().top;p=f.width();imgHeight=f.height()});h.on("moveend",function(q){g.removeClass("active")});h.on("move",function(q){if(g.hasClass("active")){j=(c==="vertical")?(q.pageY-offsetY)/imgHeight:(q.pageX-m)/p;if(j<0){j=0}if(j>1){j=1}n(j)}});g.find("img").on("mousedown",function(q){q.preventDefault()});a(window).trigger("resize.twentytwenty")})}})(jQuery);