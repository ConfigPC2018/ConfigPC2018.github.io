(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{a(jQuery)}})(function(v,f){var L=6,N=v.event.add,y=v.event.remove,B=function(Q,S,R){v.event.trigger(S,R,Q)},F=(function(){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(R,Q){return window.setTimeout(function(){R()},25)})})(),P={textarea:true,input:true,select:true,button:true},e={move:"mousemove",cancel:"mouseup dragstart",end:"mouseup"},M={move:"touchmove",cancel:"touchend",end:"touchend"};function n(U){var R=U,Q=false,S=false;function T(V){if(Q){R();F(T);S=true;Q=false}else{S=false}}this.kick=function(V){Q=true;if(!S){T()}};this.end=function(W){var V=R;if(!W){return}if(!S){W()}else{R=Q?function(){V();W()}:W;Q=true}}}function i(){return true}function r(){return false}function E(Q){Q.preventDefault()}function o(Q){if(P[Q.target.tagName.toLowerCase()]){return}Q.preventDefault()}function I(Q){return(Q.which===1&&!Q.ctrlKey&&!Q.altKey)}function k(Q,R){var T,S;if(Q.identifiedTouch){return Q.identifiedTouch(R)}T=-1;S=Q.length;while(++T<S){if(Q[T].identifier===R){return Q[T]}}}function j(Q,S){var R=k(Q.changedTouches,S.identifier);if(!R){return}if(R.pageX===S.pageX&&R.pageY===S.pageY){return}return R}function q(R){var Q;if(!I(R)){return}Q={target:R.target,startX:R.pageX,startY:R.pageY,timeStamp:R.timeStamp};N(document,e.move,x,Q);N(document,e.cancel,A,Q)}function x(R){var Q=R.data;u(R,Q,R,C)}function A(Q){C()}function C(){y(document,e.move,x);y(document,e.cancel,A)}function p(Q){var R,S;if(P[Q.target.tagName.toLowerCase()]){return}R=Q.changedTouches[0];S={target:R.target,startX:R.pageX,startY:R.pageY,timeStamp:Q.timeStamp,identifier:R.identifier};N(document,M.move+"."+R.identifier,s,S);N(document,M.cancel+"."+R.identifier,G,S)}function s(Q){var S=Q.data,R=j(Q,S);if(!R){return}u(Q,S,R,m)}function G(Q){var S=Q.data,R=k(Q.changedTouches,S.identifier);if(!R){return}m(S.identifier)}function m(Q){y(document,"."+Q,s);y(document,"."+Q,G)}function u(Q,V,R,U){var T=R.pageX-V.startX,S=R.pageY-V.startY;if((T*T)+(S*S)<(L*L)){return}t(Q,V,R,T,S,U)}function c(){this._handled=i;return false}function g(Q){Q._handled()}function t(U,Y,S,X,V,W){var R=Y.target,T,Q;T=U.targetTouches;Q=U.timeStamp-Y.timeStamp;Y.type="movestart";Y.distX=X;Y.distY=V;Y.deltaX=X;Y.deltaY=V;Y.pageX=S.pageX;Y.pageY=S.pageY;Y.velocityX=X/Q;Y.velocityY=V/Q;Y.targetTouches=T;Y.finger=T?T.length:1;Y._handled=c;Y._preventTouchmoveDefault=function(){U.preventDefault()};B(Y.target,Y);W(Y.identifier)}function a(Q){var R=Q.data.timer;Q.data.touch=Q;Q.data.timeStamp=Q.timeStamp;R.kick()}function K(Q){var S=Q.data.event,R=Q.data.timer;J();z(S,R,function(){setTimeout(function(){y(S.target,"click",r)},0)})}function J(Q){y(document,e.move,a);y(document,e.end,K)}function D(T){var S=T.data.event,R=T.data.timer,Q=j(T,S);if(!Q){return}T.preventDefault();S.targetTouches=T.targetTouches;T.data.touch=Q;T.data.timeStamp=T.timeStamp;R.kick()}function b(T){var S=T.data.event,R=T.data.timer,Q=k(T.changedTouches,S.identifier);if(!Q){return}h(S);z(S,R)}function h(Q){y(document,"."+Q.identifier,D);y(document,"."+Q.identifier,b)}function H(T,R,S,Q){var U=S-T.timeStamp;T.type="move";T.distX=R.pageX-T.startX;T.distY=R.pageY-T.startY;T.deltaX=R.pageX-T.pageX;T.deltaY=R.pageY-T.pageY;T.velocityX=0.3*T.velocityX+0.7*T.deltaX/U;T.velocityY=0.3*T.velocityY+0.7*T.deltaY/U;T.pageX=R.pageX;T.pageY=R.pageY}function z(Q,R,S){R.end(function(){Q.type="moveend";B(Q.target,Q);return S&&S()})}function O(R,Q,S){N(this,"movestart.move",g);return true}function w(Q){y(this,"dragstart drag",E);y(this,"mousedown touchstart",o);y(this,"movestart",g);return true}function d(Q){if(Q.namespace==="move"||Q.namespace==="moveend"){return}N(this,"dragstart."+Q.guid+" drag."+Q.guid,E,f,Q.selector);N(this,"mousedown."+Q.guid,o,f,Q.selector)}function l(Q){if(Q.namespace==="move"||Q.namespace==="moveend"){return}y(this,"dragstart."+Q.guid+" drag."+Q.guid);y(this,"mousedown."+Q.guid)}v.event.special.movestart={setup:O,teardown:w,add:d,remove:l,_default:function(Q){var S,T;if(!Q._handled()){return}function R(U){H(S,T.touch,T.timeStamp);B(Q.target,S)}S={target:Q.target,startX:Q.startX,startY:Q.startY,pageX:Q.pageX,pageY:Q.pageY,distX:Q.distX,distY:Q.distY,deltaX:Q.deltaX,deltaY:Q.deltaY,velocityX:Q.velocityX,velocityY:Q.velocityY,timeStamp:Q.timeStamp,identifier:Q.identifier,targetTouches:Q.targetTouches,finger:Q.finger};T={event:S,timer:new n(R),touch:f,timeStamp:f};if(Q.identifier===f){N(Q.target,"click",r);N(document,e.move,a,T);N(document,e.end,K,T)}else{Q._preventTouchmoveDefault();N(document,M.move+"."+Q.identifier,D,T);N(document,M.end+"."+Q.identifier,b,T)}}};v.event.special.move={setup:function(){N(this,"movestart.move",v.noop)},teardown:function(){y(this,"movestart.move",v.noop)}};v.event.special.moveend={setup:function(){N(this,"movestart.moveend",v.noop)},teardown:function(){y(this,"movestart.moveend",v.noop)}};N(document,"mousedown.move",q);N(document,"touchstart.move",p);if(typeof Array.prototype.indexOf==="function"){(function(Q,R){var T=["changedTouches","targetTouches"],S=T.length;while(S--){if(Q.event.props.indexOf(T[S])===-1){Q.event.props.push(T[S])}}})(v)}});